{% extends 'base.html' %}
{% block title %} Home {% endblock %}

{% block content %}
<link rel="stylesheet" href="/static/css/pages/home.css">

{% if flash %}
<div class='noti-banner noti-banner--warning'>
  <div class='noti-banner--col noti-banner--col--icon'></div>
  <div class='noti-banner--col noti-banner--col--label'>
    <div class='noti-bannertype'>
      {% if status=='error' %}
      Warning
      {% elif status=='success' %}
      Notice
      {% endif %}
    </div>
    <div class='noti-bannertext'>
      {% if status=='error' %}
      Uh oh! Be careful!
      {% elif status=='success' %}
      Hey! Listen!
      {% endif %}
    </div>
  </div>
  <div class='noti-banner--text'>
    {{ flash }}
  </div>
</div>
{% endif %}

<div class="main-block">
  <div id="grid" class="columns is-reset is-flex">
    <div class="column is-padless" id="mascot">
      <div class="gulag-avatar"></div>
    </div>
    <div class="column is-vcentered" id="title">
      <div class="has-text-centered">
        <p class="title">Welcome to {{ appName() }}.</p>
        <p class="subtitle">
          We are an osu! private server built from the ground up with many
          unique features not seen elsewhere - for more information, check
          out <a href="https://github.com/itekiosu/gulag">gulag</a>
          and <a href="https://github.com/itekiosu/gulag-web">gulag-web</a>
          on Github - we're fully open source!</p>
        {% if not session.authenticated %}
        <div class="buttons is-centered">
          <a class="button is-primary" href="/register">
            <strong>Sign up</strong>
          </a>
          <a class="button is-light" href="/login">
            Log in
          </a>
        </div>
        <div class="columns is-marginless is-paddingless">
            <div class="column is-paddingless p-3">
                <div class="card blue">
                    <div class="title">total users</div>
                    <i class="fa fa-users"></i>
                    <div class="value">{{ dashdata['count'] }}</div>
                </div>
            </div>
            <div class="column is-paddingless p-3">
                <div class="card green">
                    <div class="title">total online</div>
                    <i class="fa fa-circle"></i>
                    <div class="value">
                        <% online_users %>
                    </div>
                </div>
            </div>
            <div class="column is-paddingless p-3">
                <div class="card orange">
                    <div class="title">latest user</div>
                    <i class="fa fa-book"></i>
                    <div class="value">{{ dashdata['lastest_user'] }}</div>
                </div>
            </div>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
